<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
		<script src="../vue.js"></script>
	</head>
	<body>
		<script type="text/javascript">
			// 编程范式：命名式编程/声明式编程
			//编程范式：面向对象编程(第一公民：对象)/函数式编程(第一公民：函数)
			//filter/map/reduce
			//filter中的回调函数有一个要求：必须返回一个boolenan值
			// true:当返回true时，函数内部会自动将这次回调的n加入到新的数组中
			// flase:当返回false时，函数内部会过滤掉这次的n

			const nums = [10, 20, 30, 40, 50, 500, 600, 700, 80, 900]

			// filter函数的使用
			// 取出所有小于100的数字
			let newNums = nums.filter(function(n) {
				return n < 100
			})
			console.log(newNums);


			//map函数的使用
			//所有小于100的数字乘以2
			let new2Nums = newNums.map(function(n) {
				return n * 2
			})
			console.log(new2Nums);

			// reduce函数的使用
			// reduce作用对数组中所有的内容进行汇总
			// 所有的值相加
			let total = new2Nums.reduce(function(preValue, n) {
				return preValue + n
			}, 0)
			console.log(total);
			// 有两个值 一个是preValue，一个是后面的0
			// 有6个数，所以要遍历6次
			// 相当于把第二个值赋给力preValue，因为第二部map已经是乘过一次了
			// 第一次：preValue：0    +  n：20
			// 第二次：preValue：20   +  n：40
			// 第三次：preValue：60   +  n：60
			// 第四次：preValue：120  +  n：80
			// 第五次：preValue：200  +  n：100
			// 第六次：preValue：300  +  n：160
			// 最终等于： 460


			// 简洁三合
			let totals = nums.filter(function(n) { // 取出所有小于100的数字
				return n < 100
			}).map(function(n) { // 所有小于100的数字乘以2
				return n * 2
			}).reduce(function(preValue, n) { // 所有的值相加
				return preValue + n
			}, 0)
			console.log(totals)

			// 最简洁的
			let totalss = nums.filter(n => n < 100).map(n => n * 2).reduce((pre, n) => pre + n);
			console.log(totalss)
		</script>
	</body>
</html>
